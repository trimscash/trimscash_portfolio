---
import "../styles/global.css";
import About from "../content/about.md";
import Socials from "../components/Socials.astro";
import WorksGrid from "../components/WorksGrid.astro";
import emoteRaw from "../content/emote.md?raw";
import works from "../content/works.json";

const placeholderImage = "/work_no_img.jpg";

const emotes = emoteRaw
  .split(/\r?\n/)
  .map((line) => line.trim())
  .filter(Boolean);
const emote = emotes.length
  ? emotes[Math.floor(Math.random() * emotes.length)]
  : "私がJK(元情報工学科高専生)のtrimscashです．";
---

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/Avator.png" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>trimscash</title>
    <meta name="description" content="trimscashのポートフォリオ" />
    <meta property="og:title" content="trimscash" />
    <meta property="og:description" content="trimscashのポートフォリオ" />
    <meta property="og:image" content="https://trims.cash/Avator.png" />
    <meta property="og:url" content="https://trims.cash" />
    <meta property="og:type" content="website" />

    <meta name="twitter:title" content="trimscash" />
    <meta name="twitter:description" content="trimscashのポートフォリオ" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:image" content="https://trims.cash/Avator.png" />
  </head>
  <body
    class="bg-[radial-gradient(circle_at_20%_10%,#161616_0%,#070707_45%)] text-[#f2f2f2]"
  >
    <header
      class="sticky top-0 z-10 border-b border-[#1f1f1f] bg-[#070707]/90 backdrop-blur"
    >
      <div
        class="mx-auto flex w-[min(1100px,92vw)] items-center justify-between py-[18px] text-[18px] max-[640px]:text-[16px]"
      >
        <div>trimscash</div>
        <nav
          class="flex gap-6 text-[18px] uppercase max-[640px]:gap-4 max-[640px]:text-[13px]"
        >
          <a class="no-underline hover:text-[#e6ff66]" href="#home">Home</a>
          <a class="no-underline hover:text-[#e6ff66]" href="#works">Works</a>
          <a
            class="no-underline hover:text-[#e6ff66]"
            href="https://github.com/trimscash">GitHub</a
          >
        </nav>
      </div>
    </header>

    <main class="mx-auto w-[min(1100px,92vw)] pt-24 pb-32">
      <section
        id="home"
        class="grid place-items-center gap-6 py-10 pb-[30px] text-center"
      >
        <img
          class="h-[140px] w-[140px] rounded-full border-2 border-[#232323] bg-[#111] object-cover shadow-[0_10px_30px_rgba(0,0,0,0.6)]"
          src="/Avator.png"
          alt="trimscash icon"
        />
        <h1 class="m-0 text-[clamp(28px,4vw,44px)]">trimscash</h1>
        <p class="m-0 leading-[1.8] text-[#a7a7a7]">{emote}</p>
        <Socials />
      </section>

      <section
        class="mx-auto mb-[72px] grid w-full max-w-[600px] gap-3 rounded-2xl border border-[#1c1c1c] bg-[#0f0f0f] p-7 max-[640px]:p-5"
      >
        <h2 class="m-0 text-[25px] uppercase">About</h2>
        <div
          class="text-[#a7a7a7] leading-[1.8] [&>p]:m-0 [&>ul]:m-0 [&>ul]:pl-[18px] [&>ul]:list-disc [&>ul]:list-inside"
        >
          <About />
        </div>
      </section>

      <section id="works">
        <h2 class="mb-5 text-[25px] uppercase">Works</h2>
        <WorksGrid works={works} placeholderImage={placeholderImage} />
      </section>

      <div class="mt-20 text-center text-[13px] text-[#a7a7a7]">
        More on GitHub:
        <a
          class="ml-1 no-underline hover:text-[#e6ff66]"
          href="https://github.com/trimscash">https://github.com/trimscash</a
        >
      </div>
    </main>
  </body>
</html>
